{% extends 'base.html' %}
{% block body %}
{% if error_message %}
<div class="alert alert-danger" role="alert">
    {{ error_message }}
</div>
{% endif %}
<h2 class="welcome-message" style="font-size: 25px;text-align: center;">Edit Profile</h2>
<form method="POST" enctype="multipart/form-data">
    <div class="form-group">
        <label for="bio" class="welcome-message">About Me:</label>
        <textarea name="bio" id="bio" class="form-control">{{ user.bio }}</textarea>
    </div>
    <div class="form-group">
        <label for="avatar" class="welcome-message">Avatar:</label>
        <input type="file" name="avatar" id="avatar" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
</form>

<!-- Смена почты -->
<h3 style="margin-top: 30px;">Change Email</h3>
<form method="POST" action="{{ url_for('auth.change_email') }}">
    <div class="form-group">
        <label for="new_email">New Email:</label>
        <input type="email" name="new_email" id="new_email" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="old_password">Enter Old Password:</label>
        <input type="password" name="old_password" id="old_password" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Change Email</button>
</form>

<!-- Смена пароля -->
<h3 style="margin-top: 30px;">Change Password</h3>
<form method="POST" action="{{ url_for('auth.change_password') }}">
    <div class="form-group">
        <label for="current_password">Enter Current Password:</label>
        <input type="password" name="current_password" id="current_password" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="new_password">New Password:</label>
        <input type="password" name="new_password" id="new_password" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="confirm_new_password">Confirm New Password:</label>
        <input type="password" name="confirm_new_password" id="confirm_new_password" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Change Password</button>
</form>
{% endblock %}
